<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="liabio">
  
  
  
  <link rel="prev" href="https://liabio.github.io/post/2019-09-24-k8s-job-execute-fail-do-what/" />
  <link rel="next" href="https://liabio.github.io/post/2019-09-24-git-operator-command/" />
  <link rel="canonical" href="https://liabio.github.io/post/2019-09-24-k8s-loadbalancer-ingress-nginx-deploy/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           k8s中负载均衡器【ingress-nginx】部署 | LeaveIt
       
  </title>
  <meta name="title" content="k8s中负载均衡器【ingress-nginx】部署 | LeaveIt">
    
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/font/jianshu/iconfont.css">
  <link rel="stylesheet" href="/font/segmentfault/iconfont.css">
  <link rel="stylesheet" href="/font/weixingongzhonghao/iconfont.css">
  <link rel="stylesheet" href="/font/juejin/iconfont.css">
  <link rel="stylesheet" href="/font/zhihu/iconfont.css">
  <link rel="stylesheet" href="/font/cnblog/iconfont.css">
  <link rel="stylesheet" href="/font/csdn/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/liabio.github.io"
    },
    "articleSection" : "post",
    "name" : "k8s中负载均衡器【ingress-nginx】部署",
    "headline" : "k8s中负载均衡器【ingress-nginx】部署",
    "description" : "前言 本文首发于公众号【我的小碗汤】本公众号免费提供csdn下载服务，海量IT学习资源，如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。扫码关注：\n 在Kubernetes中，服务和Pod的IP地址仅可以在集群网络内部使用，对于集群外的应用是不可见的。为了使外部的应用能够访问集群内的服务，在Kubernetes 目前 提供了以下几种方案：\n NodePort\n LoadBalancer\n Ingress\n  本节主要就ingress和ingress控制器ingress-nginx-controller的部署作简单介绍和记录。\n以下系统组件版本：\n云服务器：centos版本7.6.1810、k8s版本1.15.0、docker版本18.06.1-ce、ingress-nginx-controller版本0.25.0\nIngress\nIngress 组成？  将Nginx的配置抽象成一个Ingress对象，每添加一个新的服务只需写一个新的Ingress的yaml文件即可\n 将新加入的Ingress转化成Nginx的配置文件并使之生效\n ingress controller\n ingress服务\n  Ingress 工作原理?  ingress controller通过和kubernetes api交互，动态的去感知集群中ingress规则变化， 然后读取它，按照自定义的规则，规则就是写明了哪个域名对应哪个service，生成一段nginx配置， 再写到nginx-ingress-controller的pod里，这个Ingress controller的pod里运行着一个Nginx服务，控制器会把生成的nginx配置写入\/etc\/nginx.conf文件中， 然后reload一下使配置生效。以此达到域名分配置和动态更新的问题。  Ingress 可以解决什么问题？ 动态配置服务 如果按照传统方式, 当新增加一个服务时, 我们可能需要在流量入口加一个反向代理指向我们新的服务. 而如果用了Ingress, 只需要配置好这个服务, 当服务启动时, 会自动注册到Ingress的中, 不需要而外的操作.\n减少不必要的端口暴露 配置过k8s的都清楚, 第一步是要关闭防火墙的, 主要原因是k8s的很多服务会以NodePort方式映射出去, 这样就相当于给宿主机打了很多孔, 既不安全也不优雅. 而Ingress可以避免这个问题, 除了Ingress自身服务可能需要映射出去, 其他服务都不要用NodePort方式\nIngress当前的实现方式？ ingress-nginx-controller 目前最新版本的ingress-nginx-controller，用lua实现了当upstream变化时不用reload，大大减少了生产环境中由于服务的重启、升级引起的IP变化导致的nginx reload。\n以下就ingress-nginx-controller的部署做简单记录：",
    "inLanguage" : "en-us",
    "author" : "Liabio",
    "creator" : "Liabio",
    "publisher": "Liabio",
    "accountablePerson" : "Liabio",
    "copyrightHolder" : "Liabio",
    "copyrightYear" : "2019",
    "datePublished": "2019-09-24 10:48:21 \x2b0800 CST",
    "dateModified" : "2019-09-24 10:48:21 \x2b0800 CST",
    "url" : "https:\/\/liabio.github.io\/post\/2019-09-24-k8s-loadbalancer-ingress-nginx-deploy\/",
    "wordCount" : "606",
    "keywords" : [ "kubernetes","ingress-nginx", "LeaveIt"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://liabio.github.io">LeaveIt</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://liabio.github.io">LeaveIt</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">k8s中负载均衡器【ingress-nginx】部署</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://liabio.github.io" rel="author">Liabio</a> with ♥ 
                <span class="post-time">
                on <time datetime=2019-09-24 itemprop="datePublished">September 24, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://liabio.github.io/categories/kubernetes/"> kubernetes </a>
                        <a href="https://liabio.github.io/categories/ingress-nginx/"> ingress-nginx </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          

<h2 id="前言">前言</h2>

<p>本文首发于公众号【我的小碗汤】<strong>本公众号</strong>免费<strong>提供csdn下载服务，海量IT学习资源，</strong>如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。扫码关注：</p>

<h2 id="image-https-imgconvert-csdnimg-cn-ahr0chm6ly91cgxvywqtaw1hz2vzlmppyw5zahuuaw8vdxbsb2fkx2ltywdlcy85mtm0nzyzltyzztrkmdc2owm2mguyody"><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTYzZTRkMDc2OWM2MGUyODY" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></h2>

<p>在Kubernetes中，服务和Pod的IP地址仅可以在集群网络内部使用，对于集群外的应用是不可见的。为了使外部的应用能够访问集群内的服务，在Kubernetes 目前 提供了以下几种方案：</p>

<ul>
<li><p>NodePort</p></li>

<li><p>LoadBalancer</p></li>

<li><p>Ingress</p></li>
</ul>

<p>本节主要就ingress和ingress控制器ingress-nginx-controller的部署作简单介绍和记录。</p>

<p><strong>以下系统组件版本：</strong></p>

<p>云服务器：centos版本7.6.1810、k8s版本1.15.0、docker版本18.06.1-ce、ingress-nginx-controller版本0.25.0</p>

<p>Ingress</p>

<h4 id="ingress-组成">Ingress 组成？</h4>

<ul>
<li><p>将Nginx的配置抽象成一个Ingress对象，每添加一个新的服务只需写一个新的Ingress的yaml文件即可</p></li>

<li><p>将新加入的Ingress转化成Nginx的配置文件并使之生效</p></li>

<li><p>ingress controller</p></li>

<li><p>ingress服务</p></li>
</ul>

<h4 id="ingress-工作原理">Ingress 工作原理?</h4>

<ul>
<li>ingress controller通过和kubernetes api交互，动态的去感知集群中ingress规则变化，</li>
<li>然后读取它，按照自定义的规则，规则就是写明了哪个域名对应哪个service，生成一段nginx配置，</li>
<li>再写到nginx-ingress-controller的pod里，这个Ingress
controller的pod里运行着一个Nginx服务，控制器会把生成的nginx配置写入/etc/nginx.conf文件中，</li>
<li>然后reload一下使配置生效。以此达到域名分配置和动态更新的问题。</li>
</ul>

<h4 id="ingress-可以解决什么问题">Ingress 可以解决什么问题？</h4>

<h5 id="动态配置服务">动态配置服务</h5>

<p>如果按照传统方式, 当新增加一个服务时, 我们可能需要在流量入口加一个反向代理指向我们新的服务. 而如果用了Ingress, 只需要配置好这个服务, 当服务启动时, 会自动注册到Ingress的中, 不需要而外的操作.</p>

<h5 id="减少不必要的端口暴露">减少不必要的端口暴露</h5>

<p>配置过k8s的都清楚, 第一步是要关闭防火墙的, 主要原因是k8s的很多服务会以NodePort方式映射出去, 这样就相当于给宿主机打了很多孔, 既不安全也不优雅. 而Ingress可以避免这个问题, 除了Ingress自身服务可能需要映射出去, 其他服务都不要用NodePort方式</p>

<h4 id="ingress当前的实现方式">Ingress当前的实现方式？</h4>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20190715000825125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWFiaW8uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"><figcaption class="image-caption">在这里插入图片描述</figcaption></figure></p>

<h3 id="ingress-nginx-controller">ingress-nginx-controller</h3>

<p>目前最新版本的ingress-nginx-controller，用lua实现了当upstream变化时不用reload，大大减少了生产环境中由于服务的重启、升级引起的IP变化导致的nginx reload。</p>

<p>以下就ingress-nginx-controller的部署做简单记录：</p>

<p>yaml如下：</p>

<pre><code class="language-yaml">kubectl apply -f {如下文件}
</code></pre>

<pre><code class="language-yaml">apiVersion: v1
kind: Namespace
metadata:
  name: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx

---

kind: ConfigMap
apiVersion: v1
metadata:
  name: nginx-configuration
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx

---
kind: ConfigMap
apiVersion: v1
metadata:
  name: tcp-services
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx

---
kind: ConfigMap
apiVersion: v1
metadata:
  name: udp-services
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: nginx-ingress-serviceaccount
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx

---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRole
metadata:
  name: nginx-ingress-clusterrole
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
rules:
  - apiGroups:
      - &quot;&quot;
    resources:
      - configmaps
      - endpoints
      - nodes
      - pods
      - secrets
    verbs:
      - list
      - watch
  - apiGroups:
      - &quot;&quot;
    resources:
      - nodes
    verbs:
      - get
  - apiGroups:
      - &quot;&quot;
    resources:
      - services
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - &quot;&quot;
    resources:
      - events
    verbs:
      - create
      - patch
  - apiGroups:
      - &quot;extensions&quot;
      - &quot;networking.k8s.io&quot;
    resources:
      - ingresses
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - &quot;extensions&quot;
      - &quot;networking.k8s.io&quot;
    resources:
      - ingresses/status
    verbs:
      - update

---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: Role
metadata:
  name: nginx-ingress-role
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
rules:
  - apiGroups:
      - &quot;&quot;
    resources:
      - configmaps
      - pods
      - secrets
      - namespaces
    verbs:
      - get
  - apiGroups:
      - &quot;&quot;
    resources:
      - configmaps
    resourceNames:
      # Defaults to &quot;&lt;election-id&gt;-&lt;ingress-class&gt;&quot;
      # Here: &quot;&lt;ingress-controller-leader&gt;-&lt;nginx&gt;&quot;
      # This has to be adapted if you change either parameter
      # when launching the nginx-ingress-controller.
      - &quot;ingress-controller-leader-nginx&quot;
    verbs:
      - get
      - update
  - apiGroups:
      - &quot;&quot;
    resources:
      - configmaps
    verbs:
      - create
  - apiGroups:
      - &quot;&quot;
    resources:
      - endpoints
    verbs:
      - get

---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: RoleBinding
metadata:
  name: nginx-ingress-role-nisa-binding
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: nginx-ingress-role
subjects:
  - kind: ServiceAccount
    name: nginx-ingress-serviceaccount
    namespace: ingress-nginx

---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRoleBinding
metadata:
  name: nginx-ingress-clusterrole-nisa-binding
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: nginx-ingress-clusterrole
subjects:
  - kind: ServiceAccount
    name: nginx-ingress-serviceaccount
    namespace: ingress-nginx

---

apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-ingress-controller
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: ingress-nginx
      app.kubernetes.io/part-of: ingress-nginx
  template:
    metadata:
      labels:
        app.kubernetes.io/name: ingress-nginx
        app.kubernetes.io/part-of: ingress-nginx
      annotations:
        prometheus.io/port: &quot;10254&quot;
        prometheus.io/scrape: &quot;true&quot;
    spec:
      serviceAccountName: nginx-ingress-serviceaccount
      containers:
        - name: nginx-ingress-controller
          image: quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.25.0
          args:
            - /nginx-ingress-controller
            - --configmap=$(POD_NAMESPACE)/nginx-configuration
            - --tcp-services-configmap=$(POD_NAMESPACE)/tcp-services
            - --udp-services-configmap=$(POD_NAMESPACE)/udp-services
            - --publish-service=$(POD_NAMESPACE)/ingress-nginx
            - --annotations-prefix=nginx.ingress.kubernetes.io
          securityContext:
            allowPrivilegeEscalation: true
            capabilities:
              drop:
                - ALL
              add:
                - NET_BIND_SERVICE
            # www-data -&gt; 33
            runAsUser: 33
          env:
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          ports:
            - name: http
              containerPort: 80
            - name: https
              containerPort: 443
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 10254
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 10
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 10254
              scheme: HTTP
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 10

---
</code></pre>

<p>在墙内会拉取不到以下镜像：</p>

<pre><code>quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.25.0
</code></pre>

<p>可以使用国内阿里云镜像：</p>

<pre><code>docker pull registry.cn-hangzhou.aliyuncs.com/google_containers/nginx-ingress-controller:0.25.0
</code></pre>

<p>安装后，在ingress-nginx命名空间下可以看到pod一直pending，describe pod报如下警告：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20190715000810584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWFiaW8uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"><figcaption class="image-caption">在这里插入图片描述</figcaption></figure></p>

<p>查看master节点默认加了污点，一般不允许pod调度到master节点：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/2019071500080638.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWFiaW8uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"><figcaption class="image-caption">在这里插入图片描述</figcaption></figure></p>

<p>如果k8s集群只有一个节点，可以在pod的spec下设置容忍该污点：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20190715000758386.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9saWFiaW8uYmxvZy5jc2RuLm5ldA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"><figcaption class="image-caption">在这里插入图片描述</figcaption></figure></p>

<p>即：</p>

<pre><code class="language-yaml">   spec:      
      tolerations:
      - effect: NoSchedule
        key: node-role.kubernetes.io/master
</code></pre>

<p>可以看到ingress-nginx pod被调度到master节点，且变为Running</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20190715000750440.png" alt="在这里插入图片描述" class="lazyload"><figcaption class="image-caption">在这里插入图片描述</figcaption></figure></p>

<p>看日志报以下警告：</p>

<pre><code class="language-sh">W0714 13:31:04.883127       6 queue.go:130] requeuing &amp;ObjectMeta{Name:sync status,GenerateName:,Namespace:,SelfLink:,UID:,ResourceVersion:,Generation:0,CreationTimestamp:0001-01-01 00:00:00 +0000 UTC,DeletionTimestamp:&lt;nil&gt;,DeletionGracePeriodSeconds:nil,Labels:map[string]string{},Annotations:map[string]string{},OwnerReferences:[],Finalizers:[],ClusterName:,Initializers:nil,ManagedFields:[],}, err services &quot;ingress-nginx&quot; not found
</code></pre>

<p>需要创一个名为ingress-nginx的service：</p>

<pre><code class="language-yaml">kubectl apply -f {如下文件}
kind: Service
apiVersion: v1
metadata:
  name: ingress-nginx
  namespace: ingress-nginx
  labels:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
spec:
  externalTrafficPolicy: Local
  type: LoadBalancer
  selector:
    app.kubernetes.io/name: ingress-nginx
    app.kubernetes.io/part-of: ingress-nginx
  ports:
    - name: http
      port: 80
      targetPort: http
    - name: https
      port: 443
      targetPort: https

</code></pre>

<h3 id="参考">参考：</h3>

<p><strong>ingress deploy</strong></p>

<p><a href="https://github.com/kubernetes/ingress-nginx/blob/master/docs/deploy/index.md" rel="nofollow noreferrer" target="_blank">https://github.com/kubernetes/ingress-nginx/blob/master/docs/deploy/index.md</a></p>

<p><strong>Taint和Toleration（污点和容忍）</strong></p>

<p><a href="https://jimmysong.io/kubernetes-handbook/concepts/taint-and-toleration.html" rel="nofollow noreferrer" target="_blank">https://jimmysong.io/kubernetes-handbook/concepts/taint-and-toleration.html</a></p>

<p><strong>k8s 1.12部署ingress-nginx</strong></p>

<p><a href="https://www.jianshu.com/p/e30b06906b77" rel="nofollow noreferrer" target="_blank">https://www.jianshu.com/p/e30b06906b77</a></p>

<hr />

<hr />

<p><strong>本公众号</strong>免费<strong>提供csdn下载服务，海量IT学习资源，</strong>如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。同时我们组建了一个技术交流群，里面有很多大佬，会不定时分享技术文章，如果你想来一起学习提高，可以公众号后台回复【<strong>2</strong>】，免费邀请加技术交流群互相学习提高，会不定期分享编程IT相关资源。</p>

<hr />

<p>扫码关注，精彩内容第一时间推给你</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTE2YjU5M2MyZjVjM2VmOGY" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>liabio </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://liabio.github.io/post/2019-09-24-k8s-loadbalancer-ingress-nginx-deploy/>https://liabio.github.io/post/2019-09-24-k8s-loadbalancer-ingress-nginx-deploy/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://liabio.github.io/tags/kubernetes/">
                    #kubernetes</a></span>
            
            <span class="tag"><a href="https://liabio.github.io/tags/ingress-nginx/">
                    #ingress-nginx</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://liabio.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://liabio.github.io/post/2019-09-24-k8s-job-execute-fail-do-what/" class="prev" rel="prev" title="k8s使用Job执行任务失败了怎么办"><i class="iconfont icon-left"></i>&nbsp;k8s使用Job执行任务失败了怎么办</a>
         
        
        <a href="https://liabio.github.io/post/2019-09-24-git-operator-command/" class="next" rel="next" title="git常用操作">git常用操作&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2011 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://liabio.github.io">liabio</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
