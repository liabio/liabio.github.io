<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="小碗汤">
  
  
  
  <link rel="prev" href="https://liabio.github.io/post/2019-05-14-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BAkubernetes%E9%9B%86%E7%BE%A4/" />
  <link rel="next" href="https://liabio.github.io/post/2019-09-24-docker-comprehensive-knowledge/" />
  <link rel="canonical" href="https://liabio.github.io/post/2019-09-24-k8s-domain-resolve-coredns-problem-debug/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           采坑指南——k8s域名解析coredns问题排查过程 | 小碗汤的博客
       
  </title>
  <meta name="title" content="采坑指南——k8s域名解析coredns问题排查过程 | 小碗汤的博客">
    
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/font/jianshu/iconfont.css">
  <link rel="stylesheet" href="/font/segmentfault/iconfont.css">
  <link rel="stylesheet" href="/font/weixingongzhonghao/iconfont.css">
  <link rel="stylesheet" href="/font/juejin/iconfont.css">
  <link rel="stylesheet" href="/font/zhihu/iconfont.css">
  <link rel="stylesheet" href="/font/cnblog/iconfont.css">
  <link rel="stylesheet" href="/font/csdn/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/liabio.github.io"
    },
    "articleSection" : "post",
    "name" : "采坑指南——k8s域名解析coredns问题排查过程",
    "headline" : "采坑指南——k8s域名解析coredns问题排查过程",
    "description" : "前言 本文首发于公众号【我的小碗汤】本公众号免费提供csdn下载服务，海量IT学习资源，如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。扫码关注：\n正文 前几天，在ucloud上搭建的k8s集群（搭建教程后续会发出）。今天发现域名解析不了。\n组件版本：k8s 1.15.0，coredns：1.3.1\n过程是这样的： 首先用以下yaml文件创建了一个nginx服务\napiVersion: v1 kind: Service metadata: name: nginx-svc-old labels: app: nginx-svc spec: selector: app: nginx ports: - protocol: TCP port: 80 targetPort: 80 --- apiVersion: apps\/v1beta1 kind: Deployment metadata: name: nginx-old spec: replicas: 1 template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx ports: - containerPort: 80  创建好之后： 因只部署了一个master节点。在master宿主机上直接执行以下命令：\nnslookup nginx-svc-old.default.svc  发现不能解析域名。事先也在宿主机上\/etc\/resolv.conf里配置了nameserver {coredns的podIP} 这样一来，就以为可能是coredns有问题。。\n然后用以下yaml创建了一个busybox作为调试工具：",
    "inLanguage" : "en-us",
    "author" : "Liabio",
    "creator" : "Liabio",
    "publisher": "Liabio",
    "accountablePerson" : "Liabio",
    "copyrightHolder" : "Liabio",
    "copyrightYear" : "2019",
    "datePublished": "2019-09-24 10:48:21 \x2b0800 CST",
    "dateModified" : "2019-09-24 10:48:21 \x2b0800 CST",
    "url" : "https:\/\/liabio.github.io\/post\/2019-09-24-k8s-domain-resolve-coredns-problem-debug\/",
    "wordCount" : "290",
    "keywords" : [ "docker","容器","kubernetes", "小碗汤的博客"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://liabio.github.io">小碗汤的博客</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/gitbook/" title="">GitBook</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://liabio.github.io">小碗汤的博客</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/gitbook/" title="">GitBook</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">采坑指南——k8s域名解析coredns问题排查过程</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://liabio.github.io" rel="author">Liabio</a> with ♥ 
                <span class="post-time">
                on <time datetime=2019-09-24 itemprop="datePublished">September 24, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://liabio.github.io/categories/docker/"> docker </a>
                        <a href="https://liabio.github.io/categories/kubernetes/"> kubernetes </a>
                        <a href="https://liabio.github.io/categories/k8s/"> k8s </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          

<h2 id="前言">前言</h2>

<p>本文首发于公众号【我的小碗汤】<strong>本公众号</strong>免费<strong>提供csdn下载服务，海量IT学习资源，</strong>如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。扫码关注：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTYzZTRkMDc2OWM2MGUyODY" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

<h2 id="正文">正文</h2>

<p>前几天，在ucloud上搭建的k8s集群（搭建教程后续会发出）。今天发现域名解析不了。</p>

<p><strong>组件版本：k8s 1.15.0，coredns：1.3.1</strong></p>

<h3 id="过程是这样的">过程是这样的：</h3>

<p>首先用以下yaml文件创建了一个nginx服务</p>

<pre><code class="language-yaml">apiVersion: v1
kind: Service
metadata:
  name: nginx-svc-old
  labels:
    app: nginx-svc
spec:
  selector:
    app: nginx
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
---
apiVersion: apps/v1beta1
kind: Deployment
metadata:
  name: nginx-old
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx
        ports:
        - containerPort: 80
</code></pre>

<p>创建好之后：
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTRjYTk3NjgyODBhMTBhMDEucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
因只部署了一个master节点。在master宿主机上直接执行以下命令：</p>

<pre><code class="language-yaml">nslookup nginx-svc-old.default.svc
</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWQ0YmNmMWU3NGNlMmEwZjcucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
发现不能解析域名。事先也在宿主机上/etc/resolv.conf里配置了nameserver {coredns的podIP}
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWRhMTVjYmRjNmZhYTU1ZjEucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
这样一来，就以为可能是coredns有问题。。</p>

<p>然后用以下yaml创建了一个busybox作为调试工具：</p>

<pre><code class="language-yaml">apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: busybox-deployment
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: busybox
    spec:
      restartPolicy: Always
      containers:
      - name: busybox
        command:
        - sleep
        - &quot;3600&quot;
        image: busybox
</code></pre>

<p>这里用的是截止2019/07/20，busybox的最新镜像。创建好之后，exec进入容器，执行测试命令
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTRmMTE2MDk5ZGI2NWViYmQucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
发现解析不了:</p>

<pre><code class="language-yaml">/ # nslookup nginx-svc-old.default.svc
Server:    10.96.0.10
Address:  10.96.0.10:53

** server can't find nginx-svc-old.default.svc: NXDOMAIN

*** Can't find nginx-svc-old.default.svc: No answer
</code></pre>

<p>根据coredns解析集群内域名原理可知：</p>

<p>服务 a 访问服务 b，对于同一个 Namespace下，可以直接在 pod 中，通过 curl b 来访问。对于跨 Namespace 的情况，服务名后边对应 Namespace即可，比如 curl b.default。DNS 如何解析，依赖容器内 resolv 文件的配置。</p>

<p>查看busybox容器内的resolve.conf文件：</p>

<pre><code class="language-yaml">
[root@liabio nginx]# kubectl exec -ti busybox-deployment-59755c8c6d-rmrfq sh
/ # nslookup nginx-svc-old.default.svc
Server:    10.96.0.10
Address:  10.96.0.10:53

** server can't find nginx-svc-old.default.svc: NXDOMAIN

*** Can't find nginx-svc-old.default.svc: No answer

/ # cat /etc/resolv.conf 
nameserver 10.96.0.10
search default.svc.cluster.local svc.cluster.local cluster.local
options ndots:5
/ #
</code></pre>

<p>这个文件中，配置的 DNS Server，一般就是 K8S 中，kubedns 的 Service 的 ClusterIP，这个IP是虚拟IP，无法ping，但可以访问。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTEyYWViMjg3MTA2ZmMxMWMucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
在容器内发请求时，会根据 /etc/resolv.conf 进行解析流程。选择 nameserver 10.96.0.10 进行解析，然后用nginx-svc-old ，依次带入 /etc/resolve.conf 中的 search 域，进行DNS查找，分别是：</p>

<p>search 内容类似如下（不同的pod，第一个域会有所不同）</p>

<pre><code class="language-yaml">search default.svc.cluster.local svc.cluster.local cluster.local
</code></pre>

<pre><code class="language-yaml">nginx-svc-old.default.svc.cluster.local -&gt; nginx-svc-old.svc.cluster.local -&gt; nginx-svc-old.cluster.local 
</code></pre>

<p>直到找到为止。所以，我们执行 ping nginx-svc-old，或者执行 ping nginx-svc-old.default，都可以完成DNS请求，这2个不同的操作，会分别进行不同的DNS查找步骤。</p>

<p>根据以上原理，查看到busybox内的域名/etc/resolv.conf没有问题，nameserver指向正确的kube-dns的service clusterIP。</p>

<p>这下更加怀疑core-dns有问题了。</p>

<p>但查看coredns日志，可以看到并没有报错：
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWM1MTVmYThlMjYzNWMxOTMucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
那就说明不是coredns问题了。。</p>

<p>把busybox里报的错误，进行搜索google</p>

<pre><code class="language-yaml">*** Can't find nginx-svc-old.default.svc: No answer
</code></pre>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWY3ZTE4MDBmYmMxYjA0ZmUucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure></p>

<p>查到了以下两个issue：</p>

<h4 id="issues1">issues1：</h4>

<p><a href="https://github.com/kubernetes/kubernetes/issues/66924" rel="nofollow noreferrer" target="_blank">https://github.com/kubernetes/kubernetes/issues/66924</a>
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTVlMzJhZDVhZmY2ZmM2NjMucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure></p>

<h4 id="issues2">issues2：</h4>

<p><a href="https://github.com/easzlab/kubeasz/issues/260" rel="nofollow noreferrer" target="_blank">https://github.com/easzlab/kubeasz/issues/260</a>
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWU4Yzk5NTQzNTA1ZjVkMDQucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
发现都说是busybox镜像的问题，从1.28.4以后的镜像都存在这问题。把镜像换成1.28.4试试？修改yaml版本号：</p>

<pre><code class="language-yaml">apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: busybox-deployment
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: busybox
    spec:
      restartPolicy: Always
      containers:
      - name: busybox
        command:
        - sleep
        - &quot;3600&quot;
        image: busybox:1.28.4
</code></pre>

<p>重新apply后，进入容器：
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTc3MmZiODRmNjMxYmQxNzUucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure></p>

<p>确实可以成功解析域名了。</p>

<p>那为什么宿主机上直接执行测试命令，域名不能解析呢？
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWY4Y2UxZGQ3ODk0YmMwNGQucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure></p>

<p>继续google，知道resolver域名解析器：</p>

<p>nameserver关键字，如果没指定nameserver就找不到DNS服务器，其它关键字是可选的。nameserver表示解析域名时使用该地址指定的主机为域名服务器。其中域名服务器是按照文件中出现的顺序来查询的，且只有当第一个nameserver没有反应时才查询下面的nameserver，一般不要指定超过3个服务器。
而我在宿主上/etc/resolv.conf中nameserver如下：
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLWEzNmFiNDBjNTA4YzY1YjAucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
且前三个域名解析服务器后可以通。</p>

<p>现在试着把coredns的其中一个podIP：192.168.155.73放到第一个nameserver：
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTVmZTU3ODNmNTQ0ZDQzN2UucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure>
可以看到现在可以解析了。</p>

<p>其实最好把kube-dns service的clusterIP放到/etc/resolv.conf中，这样pod重启后也可以解析。
<figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTZiYjU0NDkzNTM1Mjc3YzMucG5n" alt="image.png" class="lazyload"><figcaption class="image-caption">image.png</figcaption></figure></p>

<h2 id="参考">参考</h2>

<p>Linux中/etc/resolv.conf文件简析
<a href="https://blog.csdn.net/lcr_happy/article/details/54867510" rel="nofollow noreferrer" target="_blank">https://blog.csdn.net/lcr_happy/article/details/54867510</a></p>

<p>CoreDNS系列1：Kubernetes内部域名解析原理、弊端及优化方式</p>

<p><a href="https://hansedong.github.io/2018/11/20/9/" rel="nofollow noreferrer" target="_blank">https://hansedong.github.io/2018/11/20/9/</a></p>

<h2 id="历史文章">历史文章</h2>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485274&amp;idx=1&amp;sn=41942eb118d7c60ac6883fae29420230&amp;chksm=a695ead991e263cf85487254cd598637116f591f05ec41ab73a5b17746c70f471b5d5969906e&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">k8s中负载均衡器【ingress-nginx】部署</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485298&amp;idx=1&amp;sn=5fb1e07f6248cf0248c3ec8c6d3ef571&amp;chksm=a695eaf191e263e7bb2722a66b52265d448234cf62b121dfe131af7344bb098450d438365e6f&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">k8s使用Job执行任务失败怎么办</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485247&amp;idx=1&amp;sn=b483cead6ddaa7d20cd640b71eb424b8&amp;chksm=a695eabc91e263aa9c3eda029dc92fa78817f42c7467edce52b86f4f87c283d8592528e73a8d&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">从外部访问Kubernetes中的Pod</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485253&amp;idx=1&amp;sn=e0633227a59b1edb7f51adad5fed078b&amp;chksm=a695eac691e263d07d7d730de54762d28fdb706c59278a90e08e2257784339644b59b4964698&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">k8s负载均衡器配置请求重定向</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485239&amp;idx=1&amp;sn=5ee60c3eb22e70f91ed9d27b727140b8&amp;chksm=a695eab491e263a231978cbfcc44b038d17ff6ebde2dc7b4dd4970a4a3e5b58b2f8964b4415e&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">教你轻松获取k8s镜像和安装包</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485209&amp;idx=1&amp;sn=f971334625bfc9302204d07f2135ca86&amp;chksm=a695ea9a91e2638c24ada9ff8586645f30f5ef133d0f2b0cf7cfd0577ac822baf6234d2042f3&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">k8s必学必会知识梳理</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzU5NDYwNA==&amp;mid=2247485187&amp;idx=1&amp;sn=5c2e6c350695f3efa94a78075985672b&amp;chksm=a695ea8091e26396277a79189d0ec3e70e3a868c004d775f286ad0d43dfda571403dbf761e0d&amp;scene=21#wechat_redirect" rel="nofollow noreferrer" target="_blank">docker基础知识整理</a></p>

<hr />

<hr />

<p><strong>本公众号</strong>免费<strong>提供csdn下载服务，海量IT学习资源，</strong>如果你准备入IT坑，励志成为优秀的程序猿，那么这些资源很适合你，包括但不限于java、go、python、springcloud、elk、嵌入式 、大数据、面试资料、前端 等资源。同时我们组建了一个技术交流群，里面有很多大佬，会不定时分享技术文章，如果你想来一起学习提高，可以公众号后台回复【<strong>2</strong>】，免费邀请加技术交流群互相学习提高，会不定期分享编程IT相关资源。</p>

<hr />

<p>扫码关注，精彩内容第一时间推给你</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy85MTM0NzYzLTYzZTRkMDc2OWM2MGUyODY" alt="image" class="lazyload"><figcaption class="image-caption">image</figcaption></figure></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>小碗汤 </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://liabio.github.io/post/2019-09-24-k8s-domain-resolve-coredns-problem-debug/>https://liabio.github.io/post/2019-09-24-k8s-domain-resolve-coredns-problem-debug/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://liabio.github.io/tags/docker/">
                    #docker</a></span>
            
            <span class="tag"><a href="https://liabio.github.io/tags/%E5%AE%B9%E5%99%A8/">
                    #容器</a></span>
            
            <span class="tag"><a href="https://liabio.github.io/tags/kubernetes/">
                    #kubernetes</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://liabio.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://liabio.github.io/post/2019-05-14-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BAkubernetes%E9%9B%86%E7%BE%A4/" class="prev" rel="prev" title="手把手教你搭建kubernetes集群.md"><i class="iconfont icon-left"></i>&nbsp;手把手教你搭建kubernetes集群.md</a>
         
        
        <a href="https://liabio.github.io/post/2019-09-24-docker-comprehensive-knowledge/" class="next" rel="next" title="史上最全docker基础知识汇总">史上最全docker基础知识汇总&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
                     <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-liabio-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2011 - 2019</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://liabio.github.io">小碗汤</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
